HTK

Step 1. check existing files.

a) data files (data/)
 - mfcc_trn.txt
 - mfcc_tst.txt
 - mfc/*

b) library files (lib/)
 - mono.txt : Dictionary (separated phones)
 - snor_trn.txt : training scripts
 - snor_tst.txt : testing scripts
 - snor.txt : all scripts
 - wpgram.txt : all words
 - sil.txt : silent words

Step 2. Create word-level label files (word)

script :

HDMan -A -D -V -T 1 -a '*;' -n lib/mono.list -g lib/mono.ded lib/mono.dct lib/mono.txt lib/sil.txt

grep -v '^;' lib/snor.txt | \
gawk 'BEGIN { printf("#\!MLF\!#\r\n"); } \
{ printf("%c*/%s.lab%c\r\n",34,tolower(substr($NF,2,length($NF)-3)),34); \
for (i=1;i<NF;i++) printf("%s\r\n",$i); printf(".\r\n"); }' > lib/snor.wordmlf

grep -v '^;' lib/snor_trn.txt | \
gawk 'BEGIN { printf("#\!MLF\!#\r\n"); } \
{ printf("%c*/%s.lab%c\r\n",34,tolower(substr($NF,2,length($NF)-3)),34); \
for (i=1;i<NF;i++) printf("%s\r\n",$i); printf(".\r\n"); }' > lib/snor_trn.wordmlf

grep -v '^;' lib/snor_tst.txt | \
gawk 'BEGIN { printf("#\!MLF\!#\r\n"); } \
{ printf("%c*/%s.lab%c\r\n",34,tolower(substr($NF,2,length($NF)-3)),34); \
for (i=1;i<NF;i++) printf("%s\r\n",$i); printf(".\r\n"); }' > lib/snor_tst.wordmlf
 
result : 
 - lib/snor.wordmlf
 - lib/snor_trn.wordmlf
 - lib/snor_tst.wordmlf
 
Step 3. Create mono.hled

text :
# lib/mono.hled
========================
EX
IS sil sil
DE sp
========================

Step 4. Create word-level label files (phone)

script :

HLEd -A -D -V -l '*' -i lib/snor_trn.phonemlf -d lib/mono.txt lib/mono.hled \
lib/snor_trn.wordmlf

HLEd -A -D -V -l '*' -i lib/snor_tst.phonemlf -d lib/mono.txt lib/mono.hled \
lib/snor_tst.wordmlf

HLEd -A -D -V -l '*' -i lib/snor.phonemlf -d lib/mono.txt lib/mono.hled \
lib/snor.wordmlf

Step 5. Create config file and proto file

text :
# lib/config.basic
========================
BYTEORDER       = VAX
SOURCEKIND      = WAVEFORM
SOURCEFORMAT    = NOHEAD
SOURCERATE      = 1250
ZMEANSOURCE     = FALSE

TARGETKIND      = MFCC_E_D_A
TARGETFORMAT    = HTK
TARGETRATE      = 100000
WINDOWSIZE      = 250000.0
NUMCHANS        = 24
ENORMALISE      = TRUE
========================

# work/proto
========================
~o
<STREAMINFO> 1 39
<VECSIZE> 39<NULLD><MFCC_E_D_A><DIAGC>
~h "proto"
<BEGINHMM>
<NUMSTATES> 6
<STATE> 2
<MEAN> 39
 -1.848927e+01 -5.151941e+00 -6.392176e+00 -3.729914e+00 -4.745678e+00 -3.362226e+00 -3.349752e+00 -2.335543e+00 -1.644754e+00 4.933971e-01 -5.214239e-02 1.552568e+00 9.888800e-01 -1.385860e-03 -2.612932e-03 4.246704e-05 5.005503e-03 6.916920e-03 1.780021e-03 1.187054e-02 -2.759542e-03 1.873043e-03 -1.674004e-03 -5.433275e-03 -5.101451e-03 8.919102e-06 4.769379e-04 7.418190e-04 -1.565982e-03 -9.895656e-04 -1.150359e-03 7.710874e-04 -2.645195e-03 6.934371e-04 -7.465090e-04 -1.425917e-03 9.271982e-04 2.149593e-04 -3.048797e-06
<VARIANCE> 39
 1.125488e+00 2.637543e+00 5.613255e+00 7.461203e+00 9.704313e+00 1.361102e+01 1.567335e+01 1.462711e+01 1.614816e+01 1.677500e+01 1.696326e+01 1.356186e+01 0.000000e+00 1.308451e-01 3.048305e-01 6.488672e-01 8.619912e-01 1.118665e+00 1.573997e+00 1.812516e+00 1.675669e+00 1.870094e+00 1.922638e+00 1.961692e+00 1.573260e+00 3.788258e-06 2.686671e-02 6.235639e-02 1.328841e-01 1.767907e-01 2.291464e-01 3.226144e-01 3.720835e-01 3.429758e-01 3.842752e-01 3.941450e-01 4.032441e-01 3.230907e-01 8.287810e-07
<STATE> 3
<MEAN> 39
 -1.848927e+01 -5.151941e+00 -6.392176e+00 -3.729914e+00 -4.745678e+00 -3.362226e+00 -3.349752e+00 -2.335543e+00 -1.644754e+00 4.933971e-01 -5.214239e-02 1.552568e+00 9.888800e-01 -1.385860e-03 -2.612932e-03 4.246704e-05 5.005503e-03 6.916920e-03 1.780021e-03 1.187054e-02 -2.759542e-03 1.873043e-03 -1.674004e-03 -5.433275e-03 -5.101451e-03 8.919102e-06 4.769379e-04 7.418190e-04 -1.565982e-03 -9.895656e-04 -1.150359e-03 7.710874e-04 -2.645195e-03 6.934371e-04 -7.465090e-04 -1.425917e-03 9.271982e-04 2.149593e-04 -3.048797e-06
<VARIANCE> 39
 1.125488e+00 2.637543e+00 5.613255e+00 7.461203e+00 9.704313e+00 1.361102e+01 1.567335e+01 1.462711e+01 1.614816e+01 1.677500e+01 1.696326e+01 1.356186e+01 0.000000e+00 1.308451e-01 3.048305e-01 6.488672e-01 8.619912e-01 1.118665e+00 1.573997e+00 1.812516e+00 1.675669e+00 1.870094e+00 1.922638e+00 1.961692e+00 1.573260e+00 3.788258e-06 2.686671e-02 6.235639e-02 1.328841e-01 1.767907e-01 2.291464e-01 3.226144e-01 3.720835e-01 3.429758e-01 3.842752e-01 3.941450e-01 4.032441e-01 3.230907e-01 8.287810e-07
<STATE> 4
<MEAN> 39
 -1.848927e+01 -5.151941e+00 -6.392176e+00 -3.729914e+00 -4.745678e+00 -3.362226e+00 -3.349752e+00 -2.335543e+00 -1.644754e+00 4.933971e-01 -5.214239e-02 1.552568e+00 9.888800e-01 -1.385860e-03 -2.612932e-03 4.246704e-05 5.005503e-03 6.916920e-03 1.780021e-03 1.187054e-02 -2.759542e-03 1.873043e-03 -1.674004e-03 -5.433275e-03 -5.101451e-03 8.919102e-06 4.769379e-04 7.418190e-04 -1.565982e-03 -9.895656e-04 -1.150359e-03 7.710874e-04 -2.645195e-03 6.934371e-04 -7.465090e-04 -1.425917e-03 9.271982e-04 2.149593e-04 -3.048797e-06
<VARIANCE> 39
 1.125488e+00 2.637543e+00 5.613255e+00 7.461203e+00 9.704313e+00 1.361102e+01 1.567335e+01 1.462711e+01 1.614816e+01 1.677500e+01 1.696326e+01 1.356186e+01 0.000000e+00 1.308451e-01 3.048305e-01 6.488672e-01 8.619912e-01 1.118665e+00 1.573997e+00 1.812516e+00 1.675669e+00 1.870094e+00 1.922638e+00 1.961692e+00 1.573260e+00 3.788258e-06 2.686671e-02 6.235639e-02 1.328841e-01 1.767907e-01 2.291464e-01 3.226144e-01 3.720835e-01 3.429758e-01 3.842752e-01 3.941450e-01 4.032441e-01 3.230907e-01 8.287810e-07
<STATE> 5
<MEAN> 39
 -1.848927e+01 -5.151941e+00 -6.392176e+00 -3.729914e+00 -4.745678e+00 -3.362226e+00 -3.349752e+00 -2.335543e+00 -1.644754e+00 4.933971e-01 -5.214239e-02 1.552568e+00 9.888800e-01 -1.385860e-03 -2.612932e-03 4.246704e-05 5.005503e-03 6.916920e-03 1.780021e-03 1.187054e-02 -2.759542e-03 1.873043e-03 -1.674004e-03 -5.433275e-03 -5.101451e-03 8.919102e-06 4.769379e-04 7.418190e-04 -1.565982e-03 -9.895656e-04 -1.150359e-03 7.710874e-04 -2.645195e-03 6.934371e-04 -7.465090e-04 -1.425917e-03 9.271982e-04 2.149593e-04 -3.048797e-06
<VARIANCE> 39
 1.125488e+00 2.637543e+00 5.613255e+00 7.461203e+00 9.704313e+00 1.361102e+01 1.567335e+01 1.462711e+01 1.614816e+01 1.677500e+01 1.696326e+01 1.356186e+01 0.000000e+00 1.308451e-01 3.048305e-01 6.488672e-01 8.619912e-01 1.118665e+00 1.573997e+00 1.812516e+00 1.675669e+00 1.870094e+00 1.922638e+00 1.961692e+00 1.573260e+00 3.788258e-06 2.686671e-02 6.235639e-02 1.328841e-01 1.767907e-01 2.291464e-01 3.226144e-01 3.720835e-01 3.429758e-01 3.842752e-01 3.941450e-01 4.032441e-01 3.230907e-01 8.287810e-07
<TRANSP> 6
 0.000000e+00 5.000000e-01 5.000000e-01 0.000000e+00 0.000000e+00 0.000000e+00
 0.000000e+00 4.000000e-01 3.000000e-01 3.000000e-01 0.000000e+00 0.000000e+00
 0.000000e+00 0.000000e+00 4.000000e-01 3.000000e-01 3.000000e-01 0.000000e+00
 0.000000e+00 0.000000e+00 0.000000e+00 4.000000e-01 3.000000e-01 3.000000e-01
 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 5.000000e-01 5.000000e-01
 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00
<ENDHMM>
========================
   
Step 6. Create Initial phone models

script : 
cd work

HCompV -A -D -V -C ../lib/config.basic -S mfcc_trn.txt -f 0.01 -m -M hmm0 proto

HRest -A -D -T 1 -S mfcc_trn.txt -M hmm1 -H hmm0 -C ../lib/config.basic


Step . Grammar

# lib/gram.txt
==================
/*
 * Task grammar
 */

 $WORD = YES | NO;

 ( { START_SIL } [ $WORD ] { END_SIL } )
==================

HParse -A -D -T 1 ../lib/gram.txt net.slf

result
 - net.slf
